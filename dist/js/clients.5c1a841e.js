(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["clients"],{"2fdb":function(t,e,n){"use strict";var o=n("5ca1"),r=n("d2c8"),i="includes";o(o.P+o.F*n("5147")(i),"String",{includes:function(t){return!!~r(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"386d":function(t,e,n){"use strict";var o=n("cb7c"),r=n("83a1"),i=n("5f1b");n("214f")("search",1,(function(t,e,n,a){return[function(n){var o=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},function(t){var e=a(n,t,this);if(e.done)return e.value;var c=o(t),s=String(this),l=c.lastIndex;r(l,0)||(c.lastIndex=0);var u=i(c,s);return r(c.lastIndex,l)||(c.lastIndex=l),null===u?-1:u.index}]}))},5147:function(t,e,n){var o=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,!"/./"[t](e)}catch(r){}}return!0}},"58f3":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("div",{staticClass:"d-flex justify-content-between mb-3 flex-column flex-lg-row"},[n("div",{staticClass:"d-flex align-items-center mb-2 mb-lg-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search Client"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),n("div",{staticClass:"btn btn-default"},[n("b-icon-search")],1)]),n("b-btn",{attrs:{variant:"success",size:"sm"},on:{click:function(e){t.modalShow=!t.modalShow}}},[n("b-icon-plus"),t._v(" Create Client")],1)],1),t.filteredList.length?n("b-list-group",{staticClass:"accordion",attrs:{role:"tablist"}},t._l(t.filteredList,(function(e,o){return n("b-list-group-item",{key:o},[n("div",{staticClass:"d-flex justify-content-between flex-column flex-lg-row"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+o,expression:"`accordion-${index}`"}],staticClass:"mb-2 mb-lg-0"},[t._v(t._s(o+1)+". "),n("b",[t._v(t._s(e.name))])]),n("div",[n("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(n){return t.deleteClient(e.client_id)}}},[n("b-icon-trash"),n("span",{staticClass:"d-none d-lg-inline-block"},[t._v("Delete")])],1),n("button",{staticClass:"btn btn-outline-secondary btn-sm ml-3",on:{click:function(n){return t.modifyClient(e)}}},[n("b-icon-pencil"),n("span",{staticClass:"d-none d-lg-inline-block"},[t._v("Modify")])],1),n("router-link",{staticClass:"btn btn-outline-success btn-sm ml-3",attrs:{to:"/invoice_list/"+e.client_id+"?name="+e.name}},[n("b-icon-filter-left"),n("span",{staticClass:"d-none d-lg-inline-block"},[t._v("View Invoices")])],1),n("router-link",{staticClass:"btn btn-primary btn-sm ml-3",attrs:{to:"/generate_invoice/"+e.client_id}},[n("b-icon-bookmark-plus"),n("span",{staticClass:"d-none d-lg-inline-block"},[t._v("Generate Invoice")])],1)],1)]),n("b-collapse",{attrs:{id:"accordion-"+o,accordion:"my-accordion",role:"tabpanel"}},[n("div",{staticClass:"mt-3"},[n("p",[n("b",[t._v("Address:")]),t._v(" "+t._s(e.address||"-"))]),n("p",[n("b",[t._v("Contact:")]),t._v(" "+t._s(e.contact||"-"))]),n("p",[n("b",[t._v("GST:")]),t._v(" "+t._s(e.gst||"-"))])])])],1)})),1):n("b-alert",{staticClass:"text-center",attrs:{show:"",variant:"warning"}},[t._v("\n        No Client Found\n    ")]),n("b-modal",{attrs:{id:"modal-create-client",title:"Submit Your Name"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.cancel;return["create"==t.scope?n("label",{staticClass:"btn btn-success btn-sm",attrs:{for:"form_submit"}},[t._v("\n        Create\n    ")]):n("label",{staticClass:"btn btn-success btn-sm",attrs:{for:"form_submit"}},[t._v("\n        Update\n    ")]),n("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(t){return o()}}},[t._v("\n        Cancel\n    ")])]}}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("button",{staticClass:"btn btn-default",staticStyle:{position:"absolute"},attrs:{id:"form_submit",type:"submit"}}),n("b-form-group",{attrs:{label:"Client Id"}},[n("b-form-input",{attrs:{required:"",disabled:""},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}})],1),n("b-form-group",{attrs:{label:"Name"}},[n("b-form-input",{attrs:{required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("b-form-group",{attrs:{label:"Address"}},[n("b-form-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),n("b-form-group",{attrs:{label:"GST"}},[n("b-form-input",{model:{value:t.form.gst,callback:function(e){t.$set(t.form,"gst",e)},expression:"form.gst"}})],1),n("b-form-group",{attrs:{label:"PAN"}},[n("b-form-input",{model:{value:t.form.pan,callback:function(e){t.$set(t.form,"pan",e)},expression:"form.pan"}})],1),n("b-form-group",{attrs:{label:"Contact"}},[n("b-form-input",{model:{value:t.form.contact,callback:function(e){t.$set(t.form,"contact",e)},expression:"form.contact"}})],1)],1)])],1)},r=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("ade3"));n("386d"),n("7f7f"),n("6762"),n("2fdb"),n("a481");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s={data:function(){return{dataSource:[],search:"",form:{},modalShow:!1,scope:"create"}},created:function(){this.fetchData()},filters:{currency:function(t){return t.toFixed(2)}},watch:{"form.name":function(t){"create"==this.scope&&t&&(this.form.client_id=t.toLowerCase().replace(/[^A-Z0-9]/gi,"_"))},modalShow:function(t){0==t&&(this.scope="create",this.form={})}},computed:{filteredList:function(){var t=this;return this.dataSource.length?this.dataSource.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})):[]}},methods:{fetchData:function(){var t=this;this.$store.commit("loading",!0),this.$http.post("/api/clients/read",{}).then((function(e){t.dataSource=e.data,t.$store.commit("loading",!1)})).catch((function(e){t.showError(e)}))},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){"create"==this.scope?this.createClient():this.updateClient()},deleteClient:function(t){var e=this;this.$bvModal.msgBoxConfirm("Are you sure?").then((function(n){n&&(e.$store.commit("loading",!0),e.$http.delete("/api/clients/delete/".concat(t)).then((function(t){return e.showSuccess(t),e.fetchData()})).catch((function(t){e.showError(t)})))})).catch((function(t){}))},createClient:function(){var t=this;this.$store.commit("loading",!0),this.$http.post("/api/clients/create",this.form).then((function(e){t.showSuccess(e),t.modalShow=!1,t.form={},t.fetchData()})).catch((function(e){t.showError(e)}))},modifyClient:function(t){this.scope="modify",this.form=c({},t),this.modalShow=!0},updateClient:function(){var t=this;this.$store.commit("loading",!0),this.$http.put("/api/clients/update/".concat(this.form.client_id),this.form).then((function(e){t.showSuccess(e),t.modalShow=!1,t.fetchData()})).catch((function(e){t.showError(e)}))}}},l=s,u=n("2877"),f=Object(u["a"])(l,o,r,!1,null,null,null);e["default"]=f.exports},6762:function(t,e,n){"use strict";var o=n("5ca1"),r=n("c366")(!0);o(o.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"7f7f":function(t,e,n){var o=n("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in r||n("9e1e")&&o(r,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},aae3:function(t,e,n){var o=n("d3f4"),r=n("2d95"),i=n("2b4c")("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},d2c8:function(t,e,n){var o=n("aae3"),r=n("be13");t.exports=function(t,e,n){if(o(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}}}]);
//# sourceMappingURL=clients.5c1a841e.js.map